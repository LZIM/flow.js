"use strict";
var __cov_GEHjBzh89q43UAxARUgWGQ = (Function('return this'))();
if (!__cov_GEHjBzh89q43UAxARUgWGQ.__coverage__) { __cov_GEHjBzh89q43UAxARUgWGQ.__coverage__ = {}; }
__cov_GEHjBzh89q43UAxARUgWGQ = __cov_GEHjBzh89q43UAxARUgWGQ.__coverage__;
if (!(__cov_GEHjBzh89q43UAxARUgWGQ['/Users/jzhang/Documents/libraries/flow.js/src/channels/variables-channel.js'])) {
   __cov_GEHjBzh89q43UAxARUgWGQ['/Users/jzhang/Documents/libraries/flow.js/src/channels/variables-channel.js'] = {"path":"/Users/jzhang/Documents/libraries/flow.js/src/channels/variables-channel.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":17},"end":{"line":4,"column":36}}},"2":{"name":"(anonymous_2)","line":24,"loc":{"start":{"line":24,"column":18},"end":{"line":24,"column":34}}},"3":{"name":"(anonymous_3)","line":28,"loc":{"start":{"line":28,"column":28},"end":{"line":28,"column":43}}},"4":{"name":"(anonymous_4)","line":30,"loc":{"start":{"line":30,"column":29},"end":{"line":30,"column":44}}},"5":{"name":"(anonymous_5)","line":37,"loc":{"start":{"line":37,"column":22},"end":{"line":37,"column":64}}},"6":{"name":"(anonymous_6)","line":43,"loc":{"start":{"line":43,"column":39},"end":{"line":43,"column":69}}},"7":{"name":"(anonymous_7)","line":47,"loc":{"start":{"line":47,"column":30},"end":{"line":47,"column":62}}},"8":{"name":"(anonymous_8)","line":85,"loc":{"start":{"line":85,"column":17},"end":{"line":85,"column":45}}},"9":{"name":"(anonymous_9)","line":102,"loc":{"start":{"line":102,"column":31},"end":{"line":102,"column":65}}},"10":{"name":"(anonymous_10)","line":103,"loc":{"start":{"line":103,"column":43},"end":{"line":103,"column":64}}},"11":{"name":"(anonymous_11)","line":105,"loc":{"start":{"line":105,"column":38},"end":{"line":105,"column":62}}},"12":{"name":"(anonymous_12)","line":116,"loc":{"start":{"line":116,"column":44},"end":{"line":116,"column":72}}},"13":{"name":"(anonymous_13)","line":128,"loc":{"start":{"line":128,"column":60},"end":{"line":128,"column":86}}},"14":{"name":"(anonymous_14)","line":141,"loc":{"start":{"line":141,"column":16},"end":{"line":141,"column":43}}},"15":{"name":"(anonymous_15)","line":146,"loc":{"start":{"line":146,"column":30},"end":{"line":146,"column":50}}},"16":{"name":"(anonymous_16)","line":165,"loc":{"start":{"line":165,"column":17},"end":{"line":165,"column":53}}},"17":{"name":"(anonymous_17)","line":179,"loc":{"start":{"line":179,"column":22},"end":{"line":179,"column":34}}},"18":{"name":"(anonymous_18)","line":186,"loc":{"start":{"line":186,"column":19},"end":{"line":186,"column":53}}},"19":{"name":"(anonymous_19)","line":202,"loc":{"start":{"line":202,"column":31},"end":{"line":202,"column":58}}},"20":{"name":"(anonymous_20)","line":217,"loc":{"start":{"line":217,"column":21},"end":{"line":217,"column":48}}},"21":{"name":"(anonymous_21)","line":218,"loc":{"start":{"line":218,"column":94},"end":{"line":218,"column":110}}},"22":{"name":"(anonymous_22)","line":222,"loc":{"start":{"line":222,"column":24},"end":{"line":222,"column":36}}},"23":{"name":"(anonymous_23)","line":230,"loc":{"start":{"line":230,"column":37},"end":{"line":230,"column":49}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":34}},"2":{"start":{"line":4,"column":0},"end":{"line":233,"column":2}},"3":{"start":{"line":5,"column":4},"end":{"line":15,"column":6}},"4":{"start":{"line":17,"column":4},"end":{"line":17,"column":63}},"5":{"start":{"line":18,"column":4},"end":{"line":18,"column":44}},"6":{"start":{"line":19,"column":4},"end":{"line":19,"column":35}},"7":{"start":{"line":21,"column":4},"end":{"line":21,"column":25}},"8":{"start":{"line":24,"column":4},"end":{"line":26,"column":6}},"9":{"start":{"line":25,"column":8},"end":{"line":25,"column":21}},"10":{"start":{"line":28,"column":4},"end":{"line":34,"column":6}},"11":{"start":{"line":29,"column":8},"end":{"line":29,"column":42}},"12":{"start":{"line":30,"column":8},"end":{"line":32,"column":11}},"13":{"start":{"line":31,"column":12},"end":{"line":31,"column":52}},"14":{"start":{"line":33,"column":8},"end":{"line":33,"column":21}},"15":{"start":{"line":37,"column":4},"end":{"line":67,"column":6}},"16":{"start":{"line":39,"column":8},"end":{"line":39,"column":34}},"17":{"start":{"line":41,"column":8},"end":{"line":41,"column":30}},"18":{"start":{"line":43,"column":8},"end":{"line":61,"column":11}},"19":{"start":{"line":44,"column":12},"end":{"line":44,"column":57}},"20":{"start":{"line":45,"column":12},"end":{"line":59,"column":13}},"21":{"start":{"line":46,"column":16},"end":{"line":46,"column":50}},"22":{"start":{"line":47,"column":16},"end":{"line":57,"column":19}},"23":{"start":{"line":48,"column":20},"end":{"line":48,"column":56}},"24":{"start":{"line":49,"column":20},"end":{"line":56,"column":21}},"25":{"start":{"line":50,"column":24},"end":{"line":53,"column":25}},"26":{"start":{"line":52,"column":28},"end":{"line":52,"column":66}},"27":{"start":{"line":55,"column":24},"end":{"line":55,"column":98}},"28":{"start":{"line":58,"column":16},"end":{"line":58,"column":158}},"29":{"start":{"line":60,"column":12},"end":{"line":60,"column":46}},"30":{"start":{"line":63,"column":8},"end":{"line":66,"column":10}},"31":{"start":{"line":69,"column":4},"end":{"line":226,"column":6}},"32":{"start":{"line":86,"column":12},"end":{"line":86,"column":26}},"33":{"start":{"line":87,"column":12},"end":{"line":87,"column":47}},"34":{"start":{"line":88,"column":12},"end":{"line":88,"column":53}},"35":{"start":{"line":90,"column":12},"end":{"line":90,"column":48}},"36":{"start":{"line":91,"column":12},"end":{"line":93,"column":13}},"37":{"start":{"line":92,"column":16},"end":{"line":92,"column":85}},"38":{"start":{"line":94,"column":12},"end":{"line":96,"column":13}},"39":{"start":{"line":95,"column":16},"end":{"line":95,"column":115}},"40":{"start":{"line":98,"column":12},"end":{"line":100,"column":13}},"41":{"start":{"line":99,"column":16},"end":{"line":99,"column":56}},"42":{"start":{"line":102,"column":12},"end":{"line":126,"column":14}},"43":{"start":{"line":103,"column":16},"end":{"line":125,"column":19}},"44":{"start":{"line":105,"column":20},"end":{"line":124,"column":23}},"45":{"start":{"line":106,"column":24},"end":{"line":106,"column":58}},"46":{"start":{"line":107,"column":24},"end":{"line":123,"column":25}},"47":{"start":{"line":108,"column":28},"end":{"line":108,"column":55}},"48":{"start":{"line":110,"column":28},"end":{"line":113,"column":29}},"49":{"start":{"line":112,"column":32},"end":{"line":112,"column":56}},"50":{"start":{"line":114,"column":28},"end":{"line":122,"column":29}},"51":{"start":{"line":115,"column":32},"end":{"line":115,"column":77}},"52":{"start":{"line":116,"column":32},"end":{"line":121,"column":35}},"53":{"start":{"line":117,"column":36},"end":{"line":120,"column":37}},"54":{"start":{"line":119,"column":40},"end":{"line":119,"column":75}},"55":{"start":{"line":127,"column":12},"end":{"line":137,"column":13}},"56":{"start":{"line":128,"column":16},"end":{"line":134,"column":19}},"57":{"start":{"line":130,"column":20},"end":{"line":130,"column":58}},"58":{"start":{"line":131,"column":20},"end":{"line":131,"column":82}},"59":{"start":{"line":132,"column":20},"end":{"line":132,"column":56}},"60":{"start":{"line":133,"column":20},"end":{"line":133,"column":61}},"61":{"start":{"line":136,"column":16},"end":{"line":136,"column":68}},"62":{"start":{"line":142,"column":12},"end":{"line":142,"column":63}},"63":{"start":{"line":143,"column":12},"end":{"line":143,"column":28}},"64":{"start":{"line":144,"column":12},"end":{"line":144,"column":37}},"65":{"start":{"line":146,"column":12},"end":{"line":155,"column":15}},"66":{"start":{"line":147,"column":16},"end":{"line":147,"column":45}},"67":{"start":{"line":148,"column":16},"end":{"line":154,"column":17}},"68":{"start":{"line":149,"column":20},"end":{"line":149,"column":46}},"69":{"start":{"line":150,"column":23},"end":{"line":154,"column":17}},"70":{"start":{"line":151,"column":20},"end":{"line":151,"column":73}},"71":{"start":{"line":153,"column":20},"end":{"line":153,"column":79}},"72":{"start":{"line":168,"column":12},"end":{"line":168,"column":22}},"73":{"start":{"line":169,"column":12},"end":{"line":174,"column":13}},"74":{"start":{"line":170,"column":16},"end":{"line":170,"column":33}},"75":{"start":{"line":171,"column":16},"end":{"line":171,"column":32}},"76":{"start":{"line":173,"column":16},"end":{"line":173,"column":47}},"77":{"start":{"line":175,"column":12},"end":{"line":175,"column":76}},"78":{"start":{"line":177,"column":12},"end":{"line":177,"column":26}},"79":{"start":{"line":178,"column":12},"end":{"line":183,"column":19}},"80":{"start":{"line":180,"column":20},"end":{"line":182,"column":21}},"81":{"start":{"line":181,"column":24},"end":{"line":181,"column":51}},"82":{"start":{"line":189,"column":12},"end":{"line":189,"column":47}},"83":{"start":{"line":191,"column":12},"end":{"line":193,"column":13}},"84":{"start":{"line":192,"column":16},"end":{"line":192,"column":43}},"85":{"start":{"line":195,"column":12},"end":{"line":195,"column":56}},"86":{"start":{"line":196,"column":12},"end":{"line":199,"column":14}},"87":{"start":{"line":201,"column":12},"end":{"line":201,"column":26}},"88":{"start":{"line":202,"column":12},"end":{"line":213,"column":15}},"89":{"start":{"line":203,"column":16},"end":{"line":203,"column":56}},"90":{"start":{"line":204,"column":16},"end":{"line":206,"column":17}},"91":{"start":{"line":205,"column":20},"end":{"line":205,"column":80}},"92":{"start":{"line":207,"column":16},"end":{"line":207,"column":70}},"93":{"start":{"line":209,"column":16},"end":{"line":211,"column":17}},"94":{"start":{"line":210,"column":20},"end":{"line":210,"column":58}},"95":{"start":{"line":212,"column":16},"end":{"line":212,"column":97}},"96":{"start":{"line":215,"column":12},"end":{"line":215,"column":22}},"97":{"start":{"line":218,"column":12},"end":{"line":220,"column":15}},"98":{"start":{"line":219,"column":16},"end":{"line":219,"column":41}},"99":{"start":{"line":223,"column":12},"end":{"line":223,"column":42}},"100":{"start":{"line":224,"column":12},"end":{"line":224,"column":41}},"101":{"start":{"line":228,"column":4},"end":{"line":228,"column":30}},"102":{"start":{"line":229,"column":4},"end":{"line":229,"column":18}},"103":{"start":{"line":230,"column":4},"end":{"line":232,"column":7}},"104":{"start":{"line":231,"column":8},"end":{"line":231,"column":40}}},"branchMap":{"1":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":12},"end":{"line":45,"column":12}},{"start":{"line":45,"column":12},"end":{"line":45,"column":12}}]},"2":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":16},"end":{"line":45,"column":21}},{"start":{"line":45,"column":25},"end":{"line":45,"column":37}}]},"3":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":20},"end":{"line":49,"column":20}},{"start":{"line":49,"column":20},"end":{"line":49,"column":20}}]},"4":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":24},"end":{"line":49,"column":40}},{"start":{"line":49,"column":44},"end":{"line":49,"column":65}}]},"5":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":24},"end":{"line":50,"column":24}},{"start":{"line":50,"column":24},"end":{"line":50,"column":24}}]},"6":{"line":58,"type":"cond-expr","locations":[{"start":{"line":58,"column":86},"end":{"line":58,"column":141}},{"start":{"line":58,"column":144},"end":{"line":58,"column":157}}]},"7":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":12},"end":{"line":91,"column":12}},{"start":{"line":91,"column":12},"end":{"line":91,"column":12}}]},"8":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":16},"end":{"line":91,"column":33}},{"start":{"line":91,"column":37},"end":{"line":91,"column":53}}]},"9":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":12},"end":{"line":94,"column":12}},{"start":{"line":94,"column":12},"end":{"line":94,"column":12}}]},"10":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":16},"end":{"line":94,"column":39}},{"start":{"line":94,"column":43},"end":{"line":94,"column":59}}]},"11":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":12},"end":{"line":98,"column":12}},{"start":{"line":98,"column":12},"end":{"line":98,"column":12}}]},"12":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":16},"end":{"line":98,"column":29}},{"start":{"line":98,"column":33},"end":{"line":98,"column":47}}]},"13":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":24},"end":{"line":107,"column":24}},{"start":{"line":107,"column":24},"end":{"line":107,"column":24}}]},"14":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":28},"end":{"line":110,"column":28}},{"start":{"line":110,"column":28},"end":{"line":110,"column":28}}]},"15":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":28},"end":{"line":114,"column":28}},{"start":{"line":114,"column":28},"end":{"line":114,"column":28}}]},"16":{"line":114,"type":"binary-expr","locations":[{"start":{"line":114,"column":32},"end":{"line":114,"column":48}},{"start":{"line":114,"column":52},"end":{"line":114,"column":75}}]},"17":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":36},"end":{"line":117,"column":36}},{"start":{"line":117,"column":36},"end":{"line":117,"column":36}}]},"18":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":12},"end":{"line":127,"column":12}},{"start":{"line":127,"column":12},"end":{"line":127,"column":12}}]},"19":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":16},"end":{"line":148,"column":16}},{"start":{"line":148,"column":16},"end":{"line":148,"column":16}}]},"20":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":23},"end":{"line":150,"column":23}},{"start":{"line":150,"column":23},"end":{"line":150,"column":23}}]},"21":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":12},"end":{"line":169,"column":12}},{"start":{"line":169,"column":12},"end":{"line":169,"column":12}}]},"22":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":20},"end":{"line":180,"column":20}},{"start":{"line":180,"column":20},"end":{"line":180,"column":20}}]},"23":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":24},"end":{"line":180,"column":32}},{"start":{"line":180,"column":36},"end":{"line":180,"column":51}}]},"24":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":12},"end":{"line":191,"column":12}},{"start":{"line":191,"column":12},"end":{"line":191,"column":12}}]},"25":{"line":191,"type":"binary-expr","locations":[{"start":{"line":191,"column":16},"end":{"line":191,"column":30}},{"start":{"line":191,"column":34},"end":{"line":191,"column":59}}]},"26":{"line":204,"type":"if","locations":[{"start":{"line":204,"column":16},"end":{"line":204,"column":16}},{"start":{"line":204,"column":16},"end":{"line":204,"column":16}}]},"27":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":16},"end":{"line":209,"column":16}},{"start":{"line":209,"column":16},"end":{"line":209,"column":16}}]}}};
}
__cov_GEHjBzh89q43UAxARUgWGQ = __cov_GEHjBzh89q43UAxARUgWGQ['/Users/jzhang/Documents/libraries/flow.js/src/channels/variables-channel.js'];
__cov_GEHjBzh89q43UAxARUgWGQ.s['1']++;var config=require('../config');__cov_GEHjBzh89q43UAxARUgWGQ.s['2']++;module.exports=function(options){__cov_GEHjBzh89q43UAxARUgWGQ.f['1']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['3']++;var defaults={silent:false};__cov_GEHjBzh89q43UAxARUgWGQ.s['4']++;var channelOptions=$.extend(true,{},defaults,options);__cov_GEHjBzh89q43UAxARUgWGQ.s['5']++;var vs=channelOptions.run.variables();__cov_GEHjBzh89q43UAxARUgWGQ.s['6']++;var vent=channelOptions.vent;__cov_GEHjBzh89q43UAxARUgWGQ.s['7']++;var currentData={};__cov_GEHjBzh89q43UAxARUgWGQ.s['8']++;var isEqual=function(a,b){__cov_GEHjBzh89q43UAxARUgWGQ.f['2']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['9']++;return false;};__cov_GEHjBzh89q43UAxARUgWGQ.s['10']++;var getInnerVariables=function(str){__cov_GEHjBzh89q43UAxARUgWGQ.f['3']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['11']++;var inner=str.match(/<(.*?)>/g);__cov_GEHjBzh89q43UAxARUgWGQ.s['12']++;inner=_.map(inner,function(val){__cov_GEHjBzh89q43UAxARUgWGQ.f['4']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['13']++;return val.substring(1,val.length-1);});__cov_GEHjBzh89q43UAxARUgWGQ.s['14']++;return inner;};__cov_GEHjBzh89q43UAxARUgWGQ.s['15']++;var interpolate=function(variablesToInterpolate,values){__cov_GEHjBzh89q43UAxARUgWGQ.f['5']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['16']++;var interpolationMap={};__cov_GEHjBzh89q43UAxARUgWGQ.s['17']++;var interpolated={};__cov_GEHjBzh89q43UAxARUgWGQ.s['18']++;_.each(variablesToInterpolate,function(val,outerVariable){__cov_GEHjBzh89q43UAxARUgWGQ.f['6']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['19']++;var inner=getInnerVariables(outerVariable);__cov_GEHjBzh89q43UAxARUgWGQ.s['20']++;if((__cov_GEHjBzh89q43UAxARUgWGQ.b['2'][0]++,inner)&&(__cov_GEHjBzh89q43UAxARUgWGQ.b['2'][1]++,inner.length)){__cov_GEHjBzh89q43UAxARUgWGQ.b['1'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['21']++;var originalOuter=outerVariable;__cov_GEHjBzh89q43UAxARUgWGQ.s['22']++;$.each(inner,function(index,innerVariable){__cov_GEHjBzh89q43UAxARUgWGQ.f['7']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['23']++;var thisval=values[innerVariable];__cov_GEHjBzh89q43UAxARUgWGQ.s['24']++;if((__cov_GEHjBzh89q43UAxARUgWGQ.b['4'][0]++,thisval!==null)&&(__cov_GEHjBzh89q43UAxARUgWGQ.b['4'][1]++,thisval!==undefined)){__cov_GEHjBzh89q43UAxARUgWGQ.b['3'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['25']++;if(_.isArray(thisval)){__cov_GEHjBzh89q43UAxARUgWGQ.b['5'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['26']++;thisval=thisval[thisval.length-1];}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['5'][1]++;}__cov_GEHjBzh89q43UAxARUgWGQ.s['27']++;outerVariable=outerVariable.replace('<'+innerVariable+'>',thisval);}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['3'][1]++;}});__cov_GEHjBzh89q43UAxARUgWGQ.s['28']++;interpolationMap[outerVariable]=interpolationMap[outerVariable]?(__cov_GEHjBzh89q43UAxARUgWGQ.b['6'][0]++,[originalOuter].concat(interpolationMap[outerVariable])):(__cov_GEHjBzh89q43UAxARUgWGQ.b['6'][1]++,originalOuter);}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['1'][1]++;}__cov_GEHjBzh89q43UAxARUgWGQ.s['29']++;interpolated[outerVariable]=val;});__cov_GEHjBzh89q43UAxARUgWGQ.s['30']++;return{interpolated:interpolated,interpolationMap:interpolationMap};};__cov_GEHjBzh89q43UAxARUgWGQ.s['31']++;var publicAPI={private:{getInnerVariables:getInnerVariables,interpolate:interpolate,options:channelOptions},innerVariablesList:[],variableListenerMap:{},refresh:function(changeObj,force){__cov_GEHjBzh89q43UAxARUgWGQ.f['8']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['32']++;var me=this;__cov_GEHjBzh89q43UAxARUgWGQ.s['33']++;var silent=channelOptions.silent;__cov_GEHjBzh89q43UAxARUgWGQ.s['34']++;var changedVariables=_.keys(changeObj);__cov_GEHjBzh89q43UAxARUgWGQ.s['35']++;var shouldSilence=silent===true;__cov_GEHjBzh89q43UAxARUgWGQ.s['36']++;if((__cov_GEHjBzh89q43UAxARUgWGQ.b['8'][0]++,_.isArray(silent))&&(__cov_GEHjBzh89q43UAxARUgWGQ.b['8'][1]++,changedVariables)){__cov_GEHjBzh89q43UAxARUgWGQ.b['7'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['37']++;shouldSilence=_.intersection(silent,changedVariables).length>=1;}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['7'][1]++;}__cov_GEHjBzh89q43UAxARUgWGQ.s['38']++;if((__cov_GEHjBzh89q43UAxARUgWGQ.b['10'][0]++,$.isPlainObject(silent))&&(__cov_GEHjBzh89q43UAxARUgWGQ.b['10'][1]++,changedVariables)){__cov_GEHjBzh89q43UAxARUgWGQ.b['9'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['39']++;shouldSilence=_.intersection(silent.except,changedVariables).length!==changedVariables.length;}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['9'][1]++;}__cov_GEHjBzh89q43UAxARUgWGQ.s['40']++;if((__cov_GEHjBzh89q43UAxARUgWGQ.b['12'][0]++,shouldSilence)&&(__cov_GEHjBzh89q43UAxARUgWGQ.b['12'][1]++,force!==true)){__cov_GEHjBzh89q43UAxARUgWGQ.b['11'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['41']++;return $.Deferred().resolve().promise();}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['11'][1]++;}__cov_GEHjBzh89q43UAxARUgWGQ.s['42']++;var getVariables=function(vars,interpolationMap){__cov_GEHjBzh89q43UAxARUgWGQ.f['9']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['43']++;return vs.query(vars).then(function(variables){__cov_GEHjBzh89q43UAxARUgWGQ.f['10']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['44']++;_.each(variables,function(value,vname){__cov_GEHjBzh89q43UAxARUgWGQ.f['11']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['45']++;var oldValue=currentData[vname];__cov_GEHjBzh89q43UAxARUgWGQ.s['46']++;if(!isEqual(value,oldValue)){__cov_GEHjBzh89q43UAxARUgWGQ.b['13'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['47']++;currentData[vname]=value;__cov_GEHjBzh89q43UAxARUgWGQ.s['48']++;if(me.variableListenerMap[vname]){__cov_GEHjBzh89q43UAxARUgWGQ.b['14'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['49']++;me.notify(vname,value);}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['14'][1]++;}__cov_GEHjBzh89q43UAxARUgWGQ.s['50']++;if((__cov_GEHjBzh89q43UAxARUgWGQ.b['16'][0]++,interpolationMap)&&(__cov_GEHjBzh89q43UAxARUgWGQ.b['16'][1]++,interpolationMap[vname])){__cov_GEHjBzh89q43UAxARUgWGQ.b['15'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['51']++;var map=[].concat(interpolationMap[vname]);__cov_GEHjBzh89q43UAxARUgWGQ.s['52']++;_.each(map,function(interpolatedName){__cov_GEHjBzh89q43UAxARUgWGQ.f['12']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['53']++;if(me.variableListenerMap[interpolatedName]){__cov_GEHjBzh89q43UAxARUgWGQ.b['17'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['54']++;me.notify(interpolatedName,value);}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['17'][1]++;}});}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['15'][1]++;}}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['13'][1]++;}});});};__cov_GEHjBzh89q43UAxARUgWGQ.s['55']++;if(me.innerVariablesList.length){__cov_GEHjBzh89q43UAxARUgWGQ.b['18'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['56']++;return vs.query(me.innerVariablesList).then(function(innerVariables){__cov_GEHjBzh89q43UAxARUgWGQ.f['13']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['57']++;$.extend(currentData,innerVariables);__cov_GEHjBzh89q43UAxARUgWGQ.s['58']++;var ip=interpolate(me.variableListenerMap,innerVariables);__cov_GEHjBzh89q43UAxARUgWGQ.s['59']++;var outer=_.keys(ip.interpolated);__cov_GEHjBzh89q43UAxARUgWGQ.s['60']++;getVariables(outer,ip.interpolationMap);});}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['18'][1]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['61']++;return getVariables(_.keys(me.variableListenerMap));}},notify:function(variable,value){__cov_GEHjBzh89q43UAxARUgWGQ.f['14']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['62']++;var listeners=this.variableListenerMap[variable];__cov_GEHjBzh89q43UAxARUgWGQ.s['63']++;var params={};__cov_GEHjBzh89q43UAxARUgWGQ.s['64']++;params[variable]=value;__cov_GEHjBzh89q43UAxARUgWGQ.s['65']++;_.each(listeners,function(listener){__cov_GEHjBzh89q43UAxARUgWGQ.f['15']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['66']++;var target=listener.target;__cov_GEHjBzh89q43UAxARUgWGQ.s['67']++;if(_.isFunction(target)){__cov_GEHjBzh89q43UAxARUgWGQ.b['19'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['68']++;target.call(null,params);}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['19'][1]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['69']++;if(target.trigger){__cov_GEHjBzh89q43UAxARUgWGQ.b['20'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['70']++;listener.target.trigger(config.events.react,params);}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['20'][1]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['71']++;throw new Error('Unknown listerer format for '+variable);}}});},publish:function(variable,value,options){__cov_GEHjBzh89q43UAxARUgWGQ.f['16']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['72']++;var attrs;__cov_GEHjBzh89q43UAxARUgWGQ.s['73']++;if($.isPlainObject(variable)){__cov_GEHjBzh89q43UAxARUgWGQ.b['21'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['74']++;attrs=variable;__cov_GEHjBzh89q43UAxARUgWGQ.s['75']++;options=value;}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['21'][1]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['76']++;(attrs={})[variable]=value;}__cov_GEHjBzh89q43UAxARUgWGQ.s['77']++;var interpolated=interpolate(attrs,currentData).interpolated;__cov_GEHjBzh89q43UAxARUgWGQ.s['78']++;var me=this;__cov_GEHjBzh89q43UAxARUgWGQ.s['79']++;vs.save.call(vs,interpolated).then(function(){__cov_GEHjBzh89q43UAxARUgWGQ.f['17']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['80']++;if((__cov_GEHjBzh89q43UAxARUgWGQ.b['23'][0]++,!options)||(__cov_GEHjBzh89q43UAxARUgWGQ.b['23'][1]++,!options.silent)){__cov_GEHjBzh89q43UAxARUgWGQ.b['22'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['81']++;me.refresh.call(me,attrs);}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['22'][1]++;}});},subscribe:function(properties,subscriber){__cov_GEHjBzh89q43UAxARUgWGQ.f['18']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['82']++;properties=[].concat(properties);__cov_GEHjBzh89q43UAxARUgWGQ.s['83']++;if((__cov_GEHjBzh89q43UAxARUgWGQ.b['25'][0]++,!subscriber.on)&&(__cov_GEHjBzh89q43UAxARUgWGQ.b['25'][1]++,!_.isFunction(subscriber))){__cov_GEHjBzh89q43UAxARUgWGQ.b['24'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['84']++;subscriber=$(subscriber);}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['24'][1]++;}__cov_GEHjBzh89q43UAxARUgWGQ.s['85']++;var id=_.uniqueId('epichannel.variable');__cov_GEHjBzh89q43UAxARUgWGQ.s['86']++;var data={id:id,target:subscriber};__cov_GEHjBzh89q43UAxARUgWGQ.s['87']++;var me=this;__cov_GEHjBzh89q43UAxARUgWGQ.s['88']++;$.each(properties,function(index,property){__cov_GEHjBzh89q43UAxARUgWGQ.f['19']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['89']++;var inner=getInnerVariables(property);__cov_GEHjBzh89q43UAxARUgWGQ.s['90']++;if(inner.length){__cov_GEHjBzh89q43UAxARUgWGQ.b['26'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['91']++;me.innerVariablesList=me.innerVariablesList.concat(inner);}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['26'][1]++;}__cov_GEHjBzh89q43UAxARUgWGQ.s['92']++;me.innerVariablesList=_.uniq(me.innerVariablesList);__cov_GEHjBzh89q43UAxARUgWGQ.s['93']++;if(!me.variableListenerMap[property]){__cov_GEHjBzh89q43UAxARUgWGQ.b['27'][0]++;__cov_GEHjBzh89q43UAxARUgWGQ.s['94']++;me.variableListenerMap[property]=[];}else{__cov_GEHjBzh89q43UAxARUgWGQ.b['27'][1]++;}__cov_GEHjBzh89q43UAxARUgWGQ.s['95']++;me.variableListenerMap[property]=me.variableListenerMap[property].concat(data);});__cov_GEHjBzh89q43UAxARUgWGQ.s['96']++;return id;},unsubscribe:function(variable,token){__cov_GEHjBzh89q43UAxARUgWGQ.f['20']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['97']++;this.variableListenerMap[variable]=_.reject(this.variableListenerMap[variable],function(subs){__cov_GEHjBzh89q43UAxARUgWGQ.f['21']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['98']++;return subs.id===token;});},unsubscribeAll:function(){__cov_GEHjBzh89q43UAxARUgWGQ.f['22']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['99']++;this.variableListenerMap={};__cov_GEHjBzh89q43UAxARUgWGQ.s['100']++;this.innerVariablesList=[];}};__cov_GEHjBzh89q43UAxARUgWGQ.s['101']++;$.extend(this,publicAPI);__cov_GEHjBzh89q43UAxARUgWGQ.s['102']++;var me=this;__cov_GEHjBzh89q43UAxARUgWGQ.s['103']++;$(vent).off('dirty').on('dirty',function(){__cov_GEHjBzh89q43UAxARUgWGQ.f['23']++;__cov_GEHjBzh89q43UAxARUgWGQ.s['104']++;me.refresh.call(me,null,true);});};
