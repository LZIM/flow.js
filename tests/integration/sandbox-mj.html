<!doctype html>
<html>

<head>
    <style type="text/css">
        .fail { color: red; }
        .pass { color: green; }
        .North { color: red }
        .South { color: green }
        .East { color: blue }
        .West { color: orange }
        .salesStyle.0 { visibility: hidden }
        .salesStyle.1 { visibility: visible }
        .xx.East { color: purple }
        .xx.West { color: gray }
        .xx.2 { color: red }
    </style>
</head>

<body data-f-on-init="saveAll" data-f-model="hello_world_flow.jl">


<table border="1">

<tr>
    <td>Docs section</td>
    <td>Test case</td>
    <td>Result</td>
    <td>Notes</td>
</tr>

<tr>
    <td>display_update</td>
    <td>data-f-bind string</td>
    <td>span: <span data-f-bind="sampleString"></span><br>input: <input type="text" data-f-bind="sampleString" /></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>display_update</td>
    <td>data-f-bind int</td>
    <td>span: <span data-f-bind="sampleInt"></span><br>input: <input type="text" data-f-bind="sampleInt" /></td>
    <td class="pass">pass (0.6.0)<br>Notes: also works for reals, e.g. 8.5. Probably because of the Julia model not being strict about what kind of number this is.</td>
<tr>

<tr>
    <td>display_update</td>
    <td>data-f-bind object</td>
    <td>span: <span data-f-bind="salesMgr.region"></span><br>input: <input type="text" data-f-bind="salesMgr.region" /></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>display_update</td>
    <td>data-f-bind array</td>
    <td>span: <span data-f-bind="sales[3]"></span><br>input: <input type="text" data-f-bind="sales[3]" /></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>display_update</td>
    <td>data-f-bind array indexed by variable</td>
    <td>span: <span data-f-bind="sales[<sampleTruthy>]"></span><br>input: <input type="text" data-f-bind="sales[<sampleTruthy>]" /></td>
    <td class="fail">fail (0.6.0), span does not show value and input does not update value. <a href="https://github.com/forio/flow.js/issues/9">issue #9.</a></td>
<tr>

<tr>
    <td>display_update</td>
    <td>data-f-bind array indexed by expression</td>
    <td>desired: data-f-bind="sales[&lt;sampleTruthy&gt;+1]" <!--span: <span data-f-bind="sales[<sampleTruthy>+1]"></span><br>input: <input type="text" data-f-bind="sales[<sampleTruthy>+1]" />--></td>
    <td>future release (improvement request, doesn't work now), see <a href="https://github.com/forio/flow.js/issues/11">issue #11</a></td>
<tr>

<tr>
    <td>display_update</td>
    <td>data-f-bind radio selection for truthy</td>
    <td><input type="radio" data-f-bind="sampleTruthy"/>radio button, selected if sampleTruthy is 1. <br>sampleTruthy is: <span data-f-bind="sampleTruthy"></span></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>display_update</td>
    <td>data-f-bind radio selection with value</td>
    <td><input type="radio" data-f-bind="sampleInt" value="8"/>radio button, selected if sampleInt is 8. <br>sampleInt is: <span data-f-bind="sampleInt"></span></td>
    <td class="fail">only sometimes works in 0.6.0, see <a href="https://github.com/forio/flow.js/issues/10">issue #10</a>: if manually change sampleInt to 8, is selected. if changed using resetInt() call, is not updated.</td>
<tr>

<tr>
    <td>display_update</td>
    <td>data-f-bind select element selection</td>
    <td>values are 8, 10, 12, should select based on value of sampleInt, using data-f-bind only:
        <select data-f-bind="sampleInt">
            <option value="8"> 8 </option>
            <option value="10"> 10 </option>
            <option value="12"> 12 </option>
        </select>
    </td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>display_update</td>
    <td>data-f-bind checkbox selection</td>
    <td>checkbox, should be checked because sampleBool is true: <input type="checkbox" data-f-bind="sampleBool" /><br>
        checkbox, should be unchecked because sampleFalseBool is false: <input type="checkbox" data-f-bind="sampleFalseBool" /></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>special_handling</td>
    <td>data-f-checked</td>
    <td>checkbox, should be checked because sampleBool is true <input type="checkbox" data-f-checked="sampleBool" /><br>
        checkbox, should be unchecked because sampleFalseBool is false: <input type="checkbox" data-f-checked="sampleFalseBool" /></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>special_handling</td>
    <td>data-f-disabled with "truthy" of 0,1</td>
    <td>this button should be enabled because sampleTruthy=1: <button data-f-disabled="sampleTruthy">click me</button><br>confirm: sampleTruthy is currently: <span data-f-bind="sampleTruthy"></span></td>
    <td class="pass">pass (0.6.0) (disabled=1/true means enabled b/c flow inverts; disabled=0/false means disabled b/c flow inverts)</td>
<tr>

<tr>
    <td>special_handling</td>
    <td>data-f-disabled with "truthy" of true, false</td>
    <td>this button should be enabled because sampleBool=true: <button data-f-disabled="sampleBool">click me</button><br>confirm: sampleBool is currently: <span data-f-bind="sampleBool"></span>
        <br><br> this button should be disabled because sampleFalseBool=false: <button data-f-disabled="sampleFalseBool">click me</button><br>confirm: sampleFalseBool is currently: <span data-f-bind="sampleFalseBool"></span>
    </td>
    <td class="pass">pass (0.6.0) (disabled=1/true means enabled b/c flow inverts; disabled=0/false means disabled b/c flow inverts)</td>
<tr>

<tr>
    <td>special_handling</td>
    <td>data-f-selected</td>
    <td>values are 8, 10, 12, should select based on value of sampleInt, using data-f-selected for each option:
        <select>
            <option data-f-selected="sampleInt" value="8"> 8 </option>
            <option data-f-selected="sampleInt" value="10"> 10 </option>
            <option data-f-selected="sampleInt" value="12"> 12 </option>
    </td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>formatting</td>
    <td>data-f-convert numbers</td>
    <td>sales[4] as a number: <span data-f-bind="sales[4]" data-f-convert="#,###"></span></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>formatting</td>
    <td>data-f-convert dollars and cents</td>
    <td>sales[4] as dollars and cents: <span data-f-bind="sales[4]" data-f-convert="$0.00"></span></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>formatting</td>
    <td>data-f-convert dollars only, also issue #1</td>
    <td>sales[4] as dollars only: <span data-f-bind="sales[4]" data-f-convert="$0"></span>
        <br> sales[4] update, also using dollars: <input type="text" data-f-bind="sales[4]" data-f-convert="$0"></input></td>
    <td class="pass">pass (0.6.2)</td>
<tr>

<tr>
    <td>formatting</td>
    <td>data-f-convert percent</td>
    <td>sales[4] as percent: <span data-f-bind="sales[4]" data-f-convert="0%"></span></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>formatting</td>
    <td>formatting inheritance</td>
    <td></td>
    <td>(TODO in testing and docs)</td>
<tr>

<tr>
    <td>formatting</td>
    <td>data-f-bind and | to upperCase</td>
    <td>sampleString in upperCase <span data-f-bind="sampleString | upperCase"/></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>formatting</td>
    <td>data-f-bind and | to lowerCase</td>
    <td>sampleString in lowerCase <span data-f-bind="sampleString | lowerCase"/></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>formatting</td>
    <td>data-f-bind and | to titleCase</td>
    <td>sampleString in titleCase <span data-f-bind="sampleString | titleCase"/></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>formatting</td>
    <td>data-f-bind and | to i</td>
    <td>sampleInt in integer <span data-f-bind="sampleInt | i"/></td>
    <td>TODO for testing (this allows 10.5, which apparently is expected; haven't tested further)</td>
<tr>

<tr>
    <td>formatting</td>
    <td>data-f-bind and | to s</td>
    <td>sampleInt in string <span data-f-bind="sampleInt | s"/></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>TODO</td>
    <td>Converters &amp; Two-way converters</td>
    <td></td>
    <td>(TODO in testing and docs, see 0.6.0 release notes)</td>
<tr>

<tr>
    <td>styling</td>
    <td>data-f-class only</td>
    <td><div data-f-class="salesMgr.region">content colored by region, currently salesMgr.region is <span data-f-bind="salesMgr.region"></span></div></td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>styling</td>
    <td>data-f-class and class, for string</td>
    <td>
        <div data-f-class="salesMgr.region" class="xx">content colored by xx.region, currently salesMgr.region is <span data-f-bind="salesMgr.region"></span></div>
    </td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>styling</td>
    <td>data-f-class and class, for int</td>
    <td>
        <div data-f-class="salesMgr.num_reports" class="xx">content colored by xx.2, currently salesMgr.num_reports is <span data-f-bind="salesMgr.num_reports"></span></div>
    </td>
    <td class="fail">fail (0.6.0), see <a href="https://github.com/forio/flow.js/issues/13">issue #13</a> (not sure if this is expected to work? it was in the flow.js readme but that may be outdated)</td>
<tr>

<tr>
    <td>writing_your_own</td>
    <td>data-f-noop (and nothing)</td>
    <td>start w/ same as data-f-bind string, then add data-f-noop: <br>
        regular span: <span data-f-bind="sampleString" ></span><br>
        span w/ noop: <span data-f-noop="sampleString"></span><br>
        input: <input type="text" data-f-bind="sampleString" />
    </td>
    <td class="pass">pass (0.6.0)</td>
<tr>

<tr>
    <td>writing_your_own</td>
    <td>data-f-noop (and own function)</td>
    <td></td>
    <td>(TODO in testing and docs)</td>
<tr>

<tr>
    <td>methods</td>
    <td>data-f-on-init</td>
    <td>added 'data-f-on-init="saveAll"' to body tag</td>
    <td class="pass">pass (0.6.0) (verified in postman)</td>
<tr>

<tr>
    <td>methods</td>
    <td>data-f-on-click method, no args</td>
    <td><button data-f-on-click="resetInt()">Click to set sampleInt to 8</button><br>sampleInt = <span data-f-bind="sampleInt"></span></td>
    <td class="fail">fail (0.6.0) only works sometimes, see <a href="https://github.com/forio/flow.js/issues/10">issue #10</a>: works if clicking is the only thing we do, but not if we've already changed sampleInt e.g. in the input at top of page (but if we change sampleInt only with buttons, this continues to work...)</td>
<tr>

<tr>
    <td>methods</td>
    <td>data-f-on-click method, one int arg</td>
    <td><button data-f-on-click="addToInt(3)">Click to add 3 to sampleInt</button><br>sampleInt = <span data-f-bind="sampleInt"></span></td>
    <td class="fail">fail (0.6.0), only works sometimes, see <a href="https://github.com/forio/flow.js/issues/10">issue #10</a>: works if clicking is the only thing we do, but not if we've already changed sampleInt e.g. in the input at top of page (but if we change sampleInt only with buttons, this continues to work...)</td>
<tr>

<tr>
    <td>methods</td>
    <td>data-f-on-click method, one string arg for string letters and spaces</td>
    <td><button data-f-on-click="changeString(goodbye world)">Click to set sampleString to 'goodbye world'</button><br>sampleString = <span data-f-bind="sampleString"></span></td>
    <td class="fail">fail (0.6.0) only works sometimes, see <a href="https://github.com/forio/flow.js/issues/10">issue #10</a>: works if clicking is the only thing we do, but not if we've already changed sampleString e.g. in the input at top of page (but if we change sampleString only with buttons, this continues to work...)</td>
<tr>

<tr>
    <td>methods</td>
    <td>data-f-on-click method, one string arg for string all numbers</td>
    <td><button data-f-on-click="changeString(22)">Click to set sampleString to (string) 22</button><br>sampleString = <span data-f-bind="sampleString"></span></td>
    <td class="fail">fail (0.6.0) only works sometimes, see <a href="https://github.com/forio/flow.js/issues/10">issue #10</a>: works if clicking is the only thing we do, but not if we've already changed sampleString e.g. in the input at top of page (but if we change sampleString only with buttons, this continues to work...)</td>
<tr>

<tr>
    <td>methods</td>
    <td>data-f-on-click method, two args</td>
    <td><button data-f-on-click="updateTwoArrayVals(5,10)">Click to add 5 to sales[1] and 10 to sales[3]</button><br>sales[1] = <span data-f-bind="sales[1]"></span><br>sales[3] = <span data-f-bind="sales[3]"></span></td>
    <td class="pass">pass (0.6.0) Notes: weird that this works and the other ones don't</td>
<tr>

<tr>
    <td>methods</td>
    <td>data-f-on-click method, arg is other model variable</td>
    <td><button data-f-on-click="changeString(<salesMgr.region>)">Click to change sampleString to salesMgr.region</button><br>sampleString = <span data-f-bind="sampleString"></span></td>
    <td>future release (improvement request, doesn't work now), see <a href="https://github.com/forio/flow.js/issues/12">issue #12</a></td>
<tr>

<tr>
    <td>issue #8</td>
    <td>When I use data-f-convert="#.#%" and type in 1.5%
in the field, an incorrect value of 1.5 is sent to Julia, and the resulting value is
displayed as 150%.</td>
    <td>span: <span data-f-bind="sampleInt"></span> <br> input: <input type="text" data-f-bind="sampleInt" data-f-convert="#.#%"/></td>
    <td class="pass">pass in 0.6.2</td>
</tr>
<tr>
    <td>issue #2</td>
    <td>I have a variable in my Julia model which is a Float64. The variable is bound via data-f-bind to a input tag in the UI. It works fine for displaying, but when a user changes the value, the new value is sent back to Julia as a string, and throws an error when it tries to squeeze into the Float64.</td>
    <td>span: <span data-f-bind="sample64"></span> <br> <button data-f-on-click="addTo64(2.71828)">Click to add 2.71828 to sample64</button>
        <br> input: <input type="text" data-f-bind="sample64"></input></td>
    <td class="pass">pass in 0.6.2 I think (no errors putting the value back; but full testing may be blocked by the data-f-on-click method tests until I make a better Julia model?)</td>
</tr>

</table>


    <script src="../../vendor/jquery/dist/jquery.min.js"></script>
    <script src="../../vendor/lodash/dist/lodash.js"></script>
    <script src="../../vendor/epicenter-js-libs/dist/epicenter.min.js"></script>
    <script src="../../dist/flow.js"></script>
    <script>

        $("body").on('f.ui.operate', function() {
            console.log(arguments);
        });

        Flow.initialize({
            channel: {
                model: 'hello_world_flow.jl',
                //account: 'first-team',
                account: 'mjones',
                project: 'hello-world-flow',
                //server: {host: 'api.epicenter-stable.foriodev.com'}
                server: {host: 'api.forio.com'}
            }
        });



    </script>

</body>



</html>
